<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <!-- Gradients for distance edges -->
    <linearGradient id="lowCost" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#22c55e"/>
      <stop offset="100%" style="stop-color:#4ade80"/>
    </linearGradient>
    <linearGradient id="medCost" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#eab308"/>
      <stop offset="100%" style="stop-color:#facc15"/>
    </linearGradient>
    <linearGradient id="highCost" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f97316"/>
      <stop offset="100%" style="stop-color:#fb923c"/>
    </linearGradient>
    <linearGradient id="infiniteCost" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#dc2626"/>
      <stop offset="100%" style="stop-color:#ef4444"/>
    </linearGradient>

    <!-- Panel background -->
    <linearGradient id="panelBg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1e293b"/>
      <stop offset="100%" style="stop-color:#0f172a"/>
    </linearGradient>

    <!-- Observer node gradient -->
    <radialGradient id="observerNode" cx="30%" cy="30%">
      <stop offset="0%" style="stop-color:#60a5fa"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </radialGradient>

    <!-- Selected observer -->
    <radialGradient id="selectedNode" cx="30%" cy="30%">
      <stop offset="0%" style="stop-color:#a78bfa"/>
      <stop offset="100%" style="stop-color:#7c3aed"/>
    </radialGradient>

    <!-- Drop shadow -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>

    <!-- Glow effect -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="600" fill="#0f172a"/>

  <!-- Title -->
  <text x="450" y="30" font-family="Arial, sans-serif" font-size="18" fill="#f8fafc" text-anchor="middle" font-weight="bold">Observer Distance Map - Interaction Modes</text>

  <!-- Panel 1: Graph Mode -->
  <g transform="translate(10, 45)">
    <!-- Panel frame -->
    <rect x="0" y="0" width="430" height="255" rx="8" fill="url(#panelBg)" stroke="#334155" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial, sans-serif" font-size="14" fill="#f8fafc" text-anchor="middle" font-weight="bold">1. Graph Mode</text>
    <text x="215" y="42" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">Observers as nodes, distances as weighted edges</text>

    <!-- Graph visualization area -->
    <rect x="15" y="55" width="400" height="185" rx="4" fill="#1e293b" stroke="#475569" stroke-width="1"/>

    <!-- Distance edges (drawn first, behind nodes) -->
    <!-- O_partial to O_bulk: O(1) green -->
    <line x1="85" y1="130" x2="200" y2="100" stroke="url(#lowCost)" stroke-width="3" stroke-linecap="round"/>
    <text x="135" y="105" font-family="monospace" font-size="9" fill="#4ade80" text-anchor="middle">O(1)</text>

    <!-- O_partial to O_sum: O(1) green -->
    <line x1="85" y1="130" x2="85" y2="200" stroke="url(#lowCost)" stroke-width="3" stroke-linecap="round"/>
    <text x="70" y="165" font-family="monospace" font-size="9" fill="#4ade80">O(1)</text>

    <!-- O_bulk to O_sem: O(1) green -->
    <line x1="200" y1="100" x2="315" y2="100" stroke="url(#lowCost)" stroke-width="3" stroke-linecap="round"/>
    <text x="257" y="92" font-family="monospace" font-size="9" fill="#4ade80">O(1)</text>

    <!-- O_bulk to O_prov: O(n) yellow -->
    <line x1="200" y1="100" x2="315" y2="180" stroke="url(#medCost)" stroke-width="3" stroke-linecap="round"/>
    <text x="265" y="145" font-family="monospace" font-size="9" fill="#facc15">O(n)</text>

    <!-- O_partial to O_sem: O(n) yellow -->
    <line x1="85" y1="130" x2="315" y2="100" stroke="url(#medCost)" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="195" y="125" font-family="monospace" font-size="9" fill="#facc15">O(n)</text>

    <!-- O_sum to O_audit: O(k) orange -->
    <line x1="85" y1="200" x2="200" y2="200" stroke="url(#highCost)" stroke-width="3" stroke-linecap="round"/>
    <text x="142" y="215" font-family="monospace" font-size="9" fill="#fb923c">O(k)</text>

    <!-- O_prov to O_audit: O(1) green -->
    <line x1="315" y1="180" x2="200" y2="200" stroke="url(#lowCost)" stroke-width="3" stroke-linecap="round"/>
    <text x="265" y="198" font-family="monospace" font-size="9" fill="#4ade80">O(1)</text>

    <!-- Infinite edges (dashed red) -->
    <line x1="85" y1="130" x2="315" y2="180" stroke="url(#infiniteCost)" stroke-width="2" stroke-dasharray="4,4" opacity="0.5"/>

    <!-- Observer nodes -->
    <!-- O_partial (Boundary) -->
    <circle cx="85" cy="130" r="22" fill="url(#observerNode)" stroke="#93c5fd" stroke-width="2" filter="url(#glow)"/>
    <text x="85" y="125" font-family="Arial, sans-serif" font-size="11" fill="#fff" text-anchor="middle" font-weight="bold">O_partial</text>
    <text x="85" y="138" font-family="Arial, sans-serif" font-size="8" fill="#bfdbfe" text-anchor="middle">Boundary</text>

    <!-- O_bulk (Full) - selected -->
    <circle cx="200" cy="100" r="22" fill="url(#selectedNode)" stroke="#c4b5fd" stroke-width="3" filter="url(#glow)"/>
    <text x="200" y="95" font-family="Arial, sans-serif" font-size="11" fill="#fff" text-anchor="middle" font-weight="bold">O_bulk</text>
    <text x="200" y="108" font-family="Arial, sans-serif" font-size="8" fill="#ddd6fe" text-anchor="middle">Full</text>

    <!-- O_sem (Semantic) -->
    <circle cx="315" cy="100" r="22" fill="url(#observerNode)" stroke="#93c5fd" stroke-width="2"/>
    <text x="315" y="95" font-family="Arial, sans-serif" font-size="11" fill="#fff" text-anchor="middle" font-weight="bold">O_sem</text>
    <text x="315" y="108" font-family="Arial, sans-serif" font-size="8" fill="#bfdbfe" text-anchor="middle">Semantic</text>

    <!-- O_sum (Summary) -->
    <circle cx="85" cy="200" r="22" fill="url(#observerNode)" stroke="#93c5fd" stroke-width="2"/>
    <text x="85" y="195" font-family="Arial, sans-serif" font-size="11" fill="#fff" text-anchor="middle" font-weight="bold">O_sum</text>
    <text x="85" y="208" font-family="Arial, sans-serif" font-size="8" fill="#bfdbfe" text-anchor="middle">Summary</text>

    <!-- O_audit (Audit) -->
    <circle cx="200" cy="200" r="22" fill="url(#observerNode)" stroke="#93c5fd" stroke-width="2"/>
    <text x="200" y="195" font-family="Arial, sans-serif" font-size="11" fill="#fff" text-anchor="middle" font-weight="bold">O_audit</text>
    <text x="200" y="208" font-family="Arial, sans-serif" font-size="8" fill="#bfdbfe" text-anchor="middle">Audit</text>

    <!-- O_prov (Provenance) -->
    <circle cx="315" cy="180" r="22" fill="url(#observerNode)" stroke="#93c5fd" stroke-width="2"/>
    <text x="315" y="175" font-family="Arial, sans-serif" font-size="11" fill="#fff" text-anchor="middle" font-weight="bold">O_prov</text>
    <text x="315" y="188" font-family="Arial, sans-serif" font-size="8" fill="#bfdbfe" text-anchor="middle">Provenance</text>

    <!-- Cursor indicator -->
    <path d="M220 85 L228 100 L222 100 L222 110 L218 110 L218 100 L212 100 Z" fill="#fff" opacity="0.9"/>

    <!-- Legend -->
    <rect x="340" y="60" width="70" height="50" rx="3" fill="#0f172a" opacity="0.8"/>
    <line x1="345" y1="72" x2="360" y2="72" stroke="#4ade80" stroke-width="2"/>
    <text x="365" y="75" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8">O(1)</text>
    <line x1="345" y1="84" x2="360" y2="84" stroke="#facc15" stroke-width="2"/>
    <text x="365" y="87" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8">O(n)</text>
    <line x1="345" y1="96" x2="360" y2="96" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,2"/>
    <text x="365" y="99" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8">infinite</text>
  </g>

  <!-- Panel 2: Matrix Mode -->
  <g transform="translate(460, 45)">
    <!-- Panel frame -->
    <rect x="0" y="0" width="430" height="255" rx="8" fill="url(#panelBg)" stroke="#334155" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial, sans-serif" font-size="14" fill="#f8fafc" text-anchor="middle" font-weight="bold">2. Matrix Mode</text>
    <text x="215" y="42" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">Distance matrix view (row = source, column = target)</text>

    <!-- Matrix area -->
    <rect x="15" y="55" width="400" height="185" rx="4" fill="#1e293b" stroke="#475569" stroke-width="1"/>

    <!-- Matrix headers -->
    <text x="30" y="80" font-family="monospace" font-size="9" fill="#64748b">d_{tau,m}</text>

    <!-- Column headers -->
    <text x="100" y="80" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">O_partial</text>
    <text x="155" y="80" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">O_bulk</text>
    <text x="210" y="80" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">O_sum</text>
    <text x="265" y="80" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">O_prov</text>
    <text x="320" y="80" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">O_sem</text>
    <text x="375" y="80" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle">O_audit</text>

    <!-- Row 1: O_partial -->
    <text x="30" y="100" font-family="monospace" font-size="9" fill="#94a3b8">O_partial</text>
    <rect x="80" y="88" width="40" height="18" rx="2" fill="#166534"/>
    <text x="100" y="100" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">0</text>
    <rect x="135" y="88" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="155" y="100" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="190" y="88" width="40" height="18" rx="2" fill="#166534"/>
    <text x="210" y="100" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(1)</text>
    <rect x="245" y="88" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="265" y="100" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="300" y="88" width="40" height="18" rx="2" fill="#854d0e"/>
    <text x="320" y="100" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(n)</text>
    <rect x="355" y="88" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="375" y="100" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>

    <!-- Row 2: O_bulk (highlighted) -->
    <rect x="25" y="108" width="380" height="20" rx="2" fill="#7c3aed" opacity="0.2"/>
    <text x="30" y="122" font-family="monospace" font-size="9" fill="#c4b5fd" font-weight="bold">O_bulk</text>
    <rect x="80" y="110" width="40" height="18" rx="2" fill="#166534"/>
    <text x="100" y="122" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(1)</text>
    <rect x="135" y="110" width="40" height="18" rx="2" fill="#166534" stroke="#c4b5fd" stroke-width="2"/>
    <text x="155" y="122" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">0</text>
    <rect x="190" y="110" width="40" height="18" rx="2" fill="#166534"/>
    <text x="210" y="122" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(1)</text>
    <rect x="245" y="110" width="40" height="18" rx="2" fill="#854d0e"/>
    <text x="265" y="122" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(n)</text>
    <rect x="300" y="110" width="40" height="18" rx="2" fill="#166534"/>
    <text x="320" y="122" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(1)</text>
    <rect x="355" y="110" width="40" height="18" rx="2" fill="#854d0e"/>
    <text x="375" y="122" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(n)</text>

    <!-- Row 3: O_sum -->
    <text x="30" y="144" font-family="monospace" font-size="9" fill="#94a3b8">O_sum</text>
    <rect x="80" y="132" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="100" y="144" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="135" y="132" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="155" y="144" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="190" y="132" width="40" height="18" rx="2" fill="#166534"/>
    <text x="210" y="144" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">0</text>
    <rect x="245" y="132" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="265" y="144" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="300" y="132" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="320" y="144" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="355" y="132" width="40" height="18" rx="2" fill="#c2410c"/>
    <text x="375" y="144" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(k)</text>

    <!-- Row 4: O_prov -->
    <text x="30" y="166" font-family="monospace" font-size="9" fill="#94a3b8">O_prov</text>
    <rect x="80" y="154" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="100" y="166" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="135" y="154" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="155" y="166" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="190" y="154" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="210" y="166" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="245" y="154" width="40" height="18" rx="2" fill="#166534"/>
    <text x="265" y="166" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">0</text>
    <rect x="300" y="154" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="320" y="166" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="355" y="154" width="40" height="18" rx="2" fill="#166534"/>
    <text x="375" y="166" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(1)</text>

    <!-- Row 5: O_sem -->
    <text x="30" y="188" font-family="monospace" font-size="9" fill="#94a3b8">O_sem</text>
    <rect x="80" y="176" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="100" y="188" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="135" y="176" width="40" height="18" rx="2" fill="#854d0e"/>
    <text x="155" y="188" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(n)</text>
    <rect x="190" y="176" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="210" y="188" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="245" y="176" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="265" y="188" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="300" y="176" width="40" height="18" rx="2" fill="#166534"/>
    <text x="320" y="188" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">0</text>
    <rect x="355" y="176" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="375" y="188" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>

    <!-- Row 6: O_audit -->
    <text x="30" y="210" font-family="monospace" font-size="9" fill="#94a3b8">O_audit</text>
    <rect x="80" y="198" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="100" y="210" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="135" y="198" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="155" y="210" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="190" y="198" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="210" y="210" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="245" y="198" width="40" height="18" rx="2" fill="#166534"/>
    <text x="265" y="210" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">O(1)</text>
    <rect x="300" y="198" width="40" height="18" rx="2" fill="#991b1b"/>
    <text x="320" y="210" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">infinite</text>
    <rect x="355" y="198" width="40" height="18" rx="2" fill="#166534"/>
    <text x="375" y="210" font-family="monospace" font-size="9" fill="#fff" text-anchor="middle">0</text>

    <!-- Color legend -->
    <rect x="30" y="220" width="14" height="10" rx="1" fill="#166534"/>
    <text x="48" y="228" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8">O(1)</text>
    <rect x="80" y="220" width="14" height="10" rx="1" fill="#854d0e"/>
    <text x="98" y="228" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8">O(n)</text>
    <rect x="130" y="220" width="14" height="10" rx="1" fill="#c2410c"/>
    <text x="148" y="228" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8">O(k)</text>
    <rect x="180" y="220" width="14" height="10" rx="1" fill="#991b1b"/>
    <text x="198" y="228" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8">infinite</text>
  </g>

  <!-- Panel 3: Budget Exploration -->
  <g transform="translate(10, 310)">
    <!-- Panel frame -->
    <rect x="0" y="0" width="430" height="270" rx="8" fill="url(#panelBg)" stroke="#334155" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial, sans-serif" font-size="14" fill="#f8fafc" text-anchor="middle" font-weight="bold">3. Budget Exploration</text>
    <text x="215" y="42" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">Adjust tau and m constraints to see feasibility changes</text>

    <!-- Controls area -->
    <rect x="15" y="55" width="180" height="200" rx="4" fill="#1e293b" stroke="#475569" stroke-width="1"/>

    <!-- Tau slider -->
    <text x="25" y="75" font-family="Arial, sans-serif" font-size="11" fill="#f8fafc">Time Budget (tau)</text>
    <rect x="25" y="82" width="150" height="8" rx="4" fill="#374151"/>
    <rect x="25" y="82" width="90" height="8" rx="4" fill="#3b82f6"/>
    <circle cx="115" cy="86" r="8" fill="#60a5fa" stroke="#fff" stroke-width="2"/>
    <text x="25" y="105" font-family="monospace" font-size="10" fill="#94a3b8">tau = 1000ms</text>

    <!-- Memory slider -->
    <text x="25" y="130" font-family="Arial, sans-serif" font-size="11" fill="#f8fafc">Memory Budget (m)</text>
    <rect x="25" y="137" width="150" height="8" rx="4" fill="#374151"/>
    <rect x="25" y="137" width="60" height="8" rx="4" fill="#10b981"/>
    <circle cx="85" cy="141" r="8" fill="#34d399" stroke="#fff" stroke-width="2"/>
    <text x="25" y="160" font-family="monospace" font-size="10" fill="#94a3b8">m = 64MB</text>

    <!-- Feasibility indicator -->
    <rect x="25" y="175" width="160" height="70" rx="4" fill="#0f172a"/>
    <text x="35" y="195" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">Feasible Translations:</text>
    <text x="35" y="212" font-family="monospace" font-size="9" fill="#4ade80">O_bulk -> O_partial</text>
    <text x="145" y="212" font-family="monospace" font-size="9" fill="#4ade80">OK</text>
    <text x="35" y="226" font-family="monospace" font-size="9" fill="#facc15">O_bulk -> O_prov</text>
    <text x="145" y="226" font-family="monospace" font-size="9" fill="#facc15">~m</text>
    <text x="35" y="240" font-family="monospace" font-size="9" fill="#ef4444">O_partial -> O_bulk</text>
    <text x="145" y="240" font-family="monospace" font-size="9" fill="#ef4444">X</text>

    <!-- Dynamic graph preview -->
    <rect x="210" y="55" width="205" height="200" rx="4" fill="#1e293b" stroke="#475569" stroke-width="1"/>
    <text x="312" y="75" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">Live Preview</text>

    <!-- Simplified graph showing budget effects -->
    <circle cx="260" cy="120" r="18" fill="url(#observerNode)" stroke="#93c5fd" stroke-width="2"/>
    <text x="260" y="123" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle">O_partial</text>

    <circle cx="360" cy="120" r="18" fill="url(#selectedNode)" stroke="#c4b5fd" stroke-width="2"/>
    <text x="360" y="123" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle">O_bulk</text>

    <circle cx="260" cy="200" r="18" fill="url(#observerNode)" stroke="#93c5fd" stroke-width="2"/>
    <text x="260" y="203" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle">O_sum</text>

    <circle cx="360" cy="200" r="18" fill="url(#observerNode)" stroke="#93c5fd" stroke-width="2"/>
    <text x="360" y="203" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle">O_prov</text>

    <!-- Edges with budget-aware styling -->
    <line x1="278" y1="120" x2="342" y2="120" stroke="#4ade80" stroke-width="3"/>
    <line x1="260" y1="138" x2="260" y2="182" stroke="#4ade80" stroke-width="3"/>
    <line x1="360" y1="138" x2="360" y2="182" stroke="#facc15" stroke-width="3" stroke-dasharray="5,2"/>
    <line x1="278" y1="200" x2="342" y2="200" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,3" opacity="0.5"/>

    <!-- Budget bar visualization -->
    <rect x="220" y="235" width="180" height="12" rx="2" fill="#374151"/>
    <rect x="220" y="235" width="108" height="12" rx="2" fill="#3b82f6"/>
    <text x="310" y="257" font-family="Arial, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">60% budget used</text>
  </g>

  <!-- Panel 4: Translator Inspection -->
  <g transform="translate(460, 310)">
    <!-- Panel frame -->
    <rect x="0" y="0" width="430" height="270" rx="8" fill="url(#panelBg)" stroke="#334155" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial, sans-serif" font-size="14" fill="#f8fafc" text-anchor="middle" font-weight="bold">4. Translator Inspection</text>
    <text x="215" y="42" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">Examine DL(T) breakdown and distortion components</text>

    <!-- Selected edge info -->
    <rect x="15" y="55" width="200" height="60" rx="4" fill="#1e293b" stroke="#7c3aed" stroke-width="2"/>
    <text x="25" y="75" font-family="Arial, sans-serif" font-size="10" fill="#c4b5fd">Selected Edge:</text>
    <text x="25" y="95" font-family="monospace" font-size="12" fill="#f8fafc" font-weight="bold">O_bulk -> O_partial</text>
    <text x="25" y="108" font-family="monospace" font-size="10" fill="#4ade80">T_forget (lossy)</text>

    <!-- DL(T) breakdown -->
    <rect x="15" y="125" width="200" height="130" rx="4" fill="#1e293b" stroke="#475569" stroke-width="1"/>
    <text x="25" y="145" font-family="Arial, sans-serif" font-size="11" fill="#f8fafc" font-weight="bold">DL(T) Breakdown</text>

    <!-- Bar chart for DL components -->
    <text x="25" y="165" font-family="monospace" font-size="9" fill="#94a3b8">Code size:</text>
    <rect x="90" y="157" width="80" height="10" rx="2" fill="#3b82f6"/>
    <text x="175" y="165" font-family="monospace" font-size="9" fill="#60a5fa">48 bits</text>

    <text x="25" y="185" font-family="monospace" font-size="9" fill="#94a3b8">Constants:</text>
    <rect x="90" y="177" width="30" height="10" rx="2" fill="#8b5cf6"/>
    <text x="125" y="185" font-family="monospace" font-size="9" fill="#a78bfa">12 bits</text>

    <text x="25" y="205" font-family="monospace" font-size="9" fill="#94a3b8">Overhead:</text>
    <rect x="90" y="197" width="15" height="10" rx="2" fill="#ec4899"/>
    <text x="110" y="205" font-family="monospace" font-size="9" fill="#f472b6">8 bits</text>

    <line x1="25" y1="215" x2="195" y2="215" stroke="#475569" stroke-width="1"/>
    <text x="25" y="230" font-family="Arial, sans-serif" font-size="10" fill="#f8fafc">Total DL(T):</text>
    <text x="100" y="230" font-family="monospace" font-size="11" fill="#4ade80" font-weight="bold">68 bits</text>
    <text x="25" y="245" font-family="Arial, sans-serif" font-size="10" fill="#f8fafc">Dist residual:</text>
    <text x="100" y="245" font-family="monospace" font-size="11" fill="#facc15" font-weight="bold">0.02</text>

    <!-- Code preview -->
    <rect x="225" y="55" width="190" height="200" rx="4" fill="#0f172a" stroke="#475569" stroke-width="1"/>
    <text x="235" y="75" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">Translator Code:</text>

    <!-- Syntax highlighted code -->
    <text x="235" y="95" font-family="monospace" font-size="9" fill="#c084fc">function</text>
    <text x="280" y="95" font-family="monospace" font-size="9" fill="#60a5fa">T_forget</text>
    <text x="325" y="95" font-family="monospace" font-size="9" fill="#f8fafc">(bulk) {</text>

    <text x="245" y="112" font-family="monospace" font-size="9" fill="#c084fc">return</text>
    <text x="280" y="112" font-family="monospace" font-size="9" fill="#f8fafc">{</text>

    <text x="255" y="129" font-family="monospace" font-size="9" fill="#60a5fa">U_0</text>
    <text x="275" y="129" font-family="monospace" font-size="9" fill="#f8fafc">: bulk.</text>
    <text x="310" y="129" font-family="monospace" font-size="9" fill="#60a5fa">initial</text>
    <text x="350" y="129" font-family="monospace" font-size="9" fill="#f8fafc">,</text>

    <text x="255" y="146" font-family="monospace" font-size="9" fill="#60a5fa">P</text>
    <text x="265" y="146" font-family="monospace" font-size="9" fill="#f8fafc">: bulk.</text>
    <text x="300" y="146" font-family="monospace" font-size="9" fill="#60a5fa">patches</text>

    <text x="245" y="163" font-family="monospace" font-size="9" fill="#f8fafc">};</text>
    <text x="235" y="180" font-family="monospace" font-size="9" fill="#f8fafc">}</text>

    <!-- Run button -->
    <rect x="235" y="200" width="80" height="24" rx="4" fill="#3b82f6"/>
    <text x="275" y="216" font-family="Arial, sans-serif" font-size="10" fill="#fff" text-anchor="middle">Run Test</text>

    <!-- Sample output -->
    <rect x="325" y="200" width="80" height="24" rx="4" fill="#1e293b" stroke="#4ade80" stroke-width="1"/>
    <text x="365" y="216" font-family="monospace" font-size="9" fill="#4ade80" text-anchor="middle">PASS</text>

    <!-- Complexity indicator -->
    <text x="235" y="245" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">Complexity: O(1) time, O(1) space</text>
  </g>

  <!-- Footer -->
  <text x="450" y="590" font-family="Arial, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Observer Distance Map - D_{tau,m}(O_1, O_2) visualization from Paper IV (AION Foundations)</text>
</svg>