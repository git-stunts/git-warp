<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
    <filter id="glow">
      <feGaussianBlur stdDeviation="5" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="strongGlow">
      <feGaussianBlur stdDeviation="8" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f5f5f5"/>
      <stop offset="100%" style="stop-color:#e0e0e0"/>
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#66bb6a"/>
      <stop offset="100%" style="stop-color:#388e3c"/>
    </linearGradient>
    <linearGradient id="goldGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffd54f"/>
      <stop offset="100%" style="stop-color:#f9a825"/>
    </linearGradient>
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#42a5f5"/>
      <stop offset="100%" style="stop-color:#1976d2"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="900" height="600" fill="url(#bgGrad)"/>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#333">Completion Sequence</text>

  <!-- Panel 1: Final Patch Applied -->
  <g transform="translate(20, 55)">
    <rect width="270" height="240" rx="12" fill="white" filter="url(#shadow)"/>
    <rect width="270" height="30" rx="12" fill="url(#greenGrad)"/>
    <rect x="0" y="15" width="270" height="15" fill="url(#greenGrad)"/>
    <text x="135" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Panel 1: Final Patch Applied</text>

    <!-- Progress complete -->
    <rect x="15" y="45" width="240" height="180" rx="6" fill="#e8f5e9" stroke="#4caf50"/>

    <!-- Big checkmark animation -->
    <circle cx="135" cy="105" r="40" fill="#4caf50" filter="url(#glow)"/>
    <path d="M110 105 L125 120 L160 85" stroke="white" stroke-width="8" fill="none" stroke-linecap="round" stroke-linejoin="round"/>

    <!-- Progress bar complete -->
    <rect x="35" y="160" width="200" height="20" rx="10" fill="#c8e6c9"/>
    <rect x="35" y="160" width="200" height="20" rx="10" fill="#4caf50"/>
    <text x="135" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">42/42 Ticks Complete</text>

    <text x="135" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2e7d32">All Patches Applied!</text>
  </g>

  <!-- Arrow 1->2 -->
  <g transform="translate(295, 175)">
    <path d="M0,0 L25,0" stroke="#4caf50" stroke-width="3" fill="none"/>
    <polygon points="25,-6 37,0 25,6" fill="#4caf50"/>
  </g>

  <!-- Panel 2: Final State Highlighted -->
  <g transform="translate(315, 55)">
    <rect width="270" height="240" rx="12" fill="white" filter="url(#shadow)"/>
    <rect width="270" height="30" rx="12" fill="url(#goldGrad)"/>
    <rect x="0" y="15" width="270" height="15" fill="url(#goldGrad)"/>
    <text x="135" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">Panel 2: Final State U_n</text>

    <!-- Final state display -->
    <rect x="15" y="45" width="240" height="180" rx="6" fill="#fafafa" stroke="#ddd"/>

    <!-- U_n with strong glow -->
    <rect x="30" y="55" width="210" height="120" rx="10" fill="white" stroke="#f9a825" stroke-width="3" filter="url(#strongGlow)"/>

    <text x="135" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#f9a825">U_42</text>
    <text x="135" y="98" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Final Reconstructed State</text>

    <!-- Graph visualization -->
    <g transform="translate(60, 105)">
      <circle cx="20" cy="20" r="8" fill="#2196f3"/>
      <circle cx="60" cy="15" r="8" fill="#2196f3"/>
      <circle cx="100" cy="20" r="8" fill="#2196f3"/>
      <circle cx="40" cy="45" r="8" fill="#2196f3"/>
      <circle cx="80" cy="50" r="8" fill="#2196f3"/>
      <circle cx="120" cy="45" r="8" fill="#4caf50"/>

      <line x1="27" y1="25" x2="35" y2="40" stroke="#666" stroke-width="1.5"/>
      <line x1="63" y1="22" x2="55" y2="38" stroke="#666" stroke-width="1.5"/>
      <line x1="67" y1="18" x2="92" y2="20" stroke="#666" stroke-width="1.5"/>
      <line x1="85" y1="45" x2="112" y2="45" stroke="#666" stroke-width="1.5"/>
    </g>

    <!-- Hash match indicator -->
    <rect x="30" y="185" width="210" height="30" rx="6" fill="#e8f5e9" stroke="#4caf50"/>
    <text x="85" y="205" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">h_out: a3f2e8d1...c6b7a8f9</text>
    <circle cx="200" cy="200" r="10" fill="#4caf50"/>
    <path d="M195 200 L198 203 L205 196" stroke="white" stroke-width="2" fill="none"/>
  </g>

  <!-- Arrow 2->3 -->
  <g transform="translate(590, 175)">
    <path d="M0,0 L25,0" stroke="#2196f3" stroke-width="3" fill="none"/>
    <polygon points="25,-6 37,0 25,6" fill="#2196f3"/>
  </g>

  <!-- Panel 3: Summary Display -->
  <g transform="translate(610, 55)">
    <rect width="270" height="240" rx="12" fill="white" filter="url(#shadow)"/>
    <rect width="270" height="30" rx="12" fill="url(#blueGrad)"/>
    <rect x="0" y="15" width="270" height="15" fill="url(#blueGrad)"/>
    <text x="135" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Panel 3: Completion Summary</text>

    <!-- Summary panel -->
    <rect x="15" y="45" width="240" height="180" rx="6" fill="#e3f2fd" stroke="#2196f3"/>

    <!-- Statistics -->
    <g transform="translate(25, 60)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1565c0">Reconstruction Complete</text>

      <!-- Total ticks -->
      <g transform="translate(0, 20)">
        <rect width="100" height="35" rx="4" fill="white"/>
        <text x="50" y="15" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Total Ticks</text>
        <text x="50" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">42</text>
      </g>

      <!-- Writers -->
      <g transform="translate(110, 20)">
        <rect width="100" height="35" rx="4" fill="white"/>
        <text x="50" y="15" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Writers</text>
        <text x="50" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">3</text>
      </g>

      <!-- Compression ratio -->
      <g transform="translate(0, 65)">
        <rect width="210" height="35" rx="4" fill="white"/>
        <text x="105" y="15" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Compression Ratio (Boundary:Interior)</text>
        <text x="105" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2e7d32">1:42</text>
      </g>

      <!-- Verification status -->
      <g transform="translate(0, 110)">
        <rect width="210" height="50" rx="4" fill="#e8f5e9" stroke="#4caf50"/>
        <text x="105" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#2e7d32">Verification Status</text>

        <g transform="translate(20, 28)">
          <circle r="6" fill="#4caf50"/>
          <path d="M-3 0 L-1 2 L3 -2" stroke="white" stroke-width="1.5" fill="none"/>
          <text x="12" y="4" font-family="Arial, sans-serif" font-size="9" fill="#333">All 42 hashes match</text>
        </g>

        <g transform="translate(120, 28)">
          <circle r="6" fill="#4caf50"/>
          <path d="M-3 0 L-1 2 L3 -2" stroke="white" stroke-width="1.5" fill="none"/>
          <text x="12" y="4" font-family="Arial, sans-serif" font-size="9" fill="#333">BTR valid</text>
        </g>
      </g>
    </g>
  </g>

  <!-- Bottom panel: Complete worldline visualization -->
  <g transform="translate(20, 310)">
    <rect width="860" height="270" rx="12" fill="white" filter="url(#shadow)"/>
    <rect width="860" height="30" rx="12" fill="#37474f"/>
    <rect x="0" y="15" width="860" height="15" fill="#37474f"/>
    <text x="430" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Interior Worldline Fully Reconstructed</text>

    <!-- Complete timeline -->
    <g transform="translate(30, 55)">
      <text x="400" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">Complete Worldline: U_0 -> U_1 -> ... -> U_42</text>

      <!-- Timeline axis -->
      <line x1="0" y1="50" x2="800" y2="50" stroke="#4caf50" stroke-width="3"/>

      <!-- States on timeline (all green/verified) -->
      <circle cx="30" cy="50" r="12" fill="#4caf50"/>
      <text x="30" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">U_0</text>

      <circle cx="100" cy="50" r="10" fill="#4caf50"/>
      <circle cx="160" cy="50" r="10" fill="#4caf50"/>
      <circle cx="220" cy="50" r="10" fill="#4caf50"/>

      <text x="280" y="55" font-family="Arial, sans-serif" font-size="14" fill="#4caf50">...</text>

      <circle cx="340" cy="50" r="10" fill="#4caf50"/>
      <circle cx="400" cy="50" r="10" fill="#4caf50"/>
      <circle cx="460" cy="50" r="10" fill="#4caf50"/>

      <text x="520" y="55" font-family="Arial, sans-serif" font-size="14" fill="#4caf50">...</text>

      <circle cx="580" cy="50" r="10" fill="#4caf50"/>
      <circle cx="640" cy="50" r="10" fill="#4caf50"/>
      <circle cx="700" cy="50" r="10" fill="#4caf50"/>

      <!-- Final state (highlighted) -->
      <circle cx="770" cy="50" r="15" fill="#f9a825" stroke="#fff" stroke-width="3" filter="url(#strongGlow)"/>
      <text x="770" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">U_42</text>

      <!-- Labels -->
      <text x="30" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Initial</text>
      <text x="770" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#f9a825">Final</text>

      <!-- Checkmarks above timeline -->
      <g transform="translate(30, 20)">
        <circle r="8" fill="#4caf50"/>
        <path d="M-4 0 L-1 3 L4 -3" stroke="white" stroke-width="2" fill="none"/>
      </g>
      <g transform="translate(770, 20)">
        <circle r="8" fill="#4caf50"/>
        <path d="M-4 0 L-1 3 L4 -3" stroke="white" stroke-width="2" fill="none"/>
      </g>
    </g>

    <!-- Success message box -->
    <g transform="translate(30, 140)">
      <rect width="380" height="105" rx="10" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
      <text x="190" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2e7d32">Interior Fully Reconstructed</text>

      <g transform="translate(20, 45)">
        <circle r="8" fill="#4caf50"/>
        <path d="M-4 0 L-1 3 L4 -3" stroke="white" stroke-width="2" fill="none"/>
        <text x="20" y="5" font-family="Arial, sans-serif" font-size="11" fill="#333">42 states successfully materialized</text>
      </g>

      <g transform="translate(20, 70)">
        <circle r="8" fill="#4caf50"/>
        <path d="M-4 0 L-1 3 L4 -3" stroke="white" stroke-width="2" fill="none"/>
        <text x="20" y="5" font-family="Arial, sans-serif" font-size="11" fill="#333">All cryptographic hashes verified</text>
      </g>

      <g transform="translate(20, 95)">
        <circle r="8" fill="#4caf50"/>
        <path d="M-4 0 L-1 3 L4 -3" stroke="white" stroke-width="2" fill="none"/>
        <text x="20" y="5" font-family="Arial, sans-serif" font-size="11" fill="#333">Deterministic replay confirmed</text>
      </g>
    </g>

    <!-- Holography theorem box -->
    <g transform="translate(440, 140)">
      <rect width="390" height="105" rx="10" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
      <text x="195" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1565c0">Computational Holography Theorem (Paper III)</text>

      <text x="195" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-style="italic" fill="#333">"The boundary encoding B = (U_0, P) uniquely</text>
      <text x="195" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-style="italic" fill="#333">determines the interior worldline."</text>

      <rect x="90" y="80" width="210" height="20" rx="5" fill="#bbdefb"/>
      <text x="195" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1565c0">Replay(B) = [U_0, U_1, ..., U_n]</text>
    </g>

    <!-- Export options hint -->
    <g transform="translate(680, 250)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="10" fill="#666">Export options now available</text>
    </g>
  </g>
</svg>