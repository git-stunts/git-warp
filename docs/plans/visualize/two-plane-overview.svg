<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#475569"/>
    </marker>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="800" height="600" fill="#0f172a"/>

  <!-- Skeleton Plane Label -->
  <text x="20" y="30" fill="#94a3b8" font-family="monospace" font-size="14">SKELETON PLANE</text>
  <text x="20" y="50" fill="#64748b" font-family="monospace" font-size="11">G ∈ OGraph_T</text>

  <!-- Divider -->
  <line x1="0" y1="280" x2="800" y2="280" stroke="#334155" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="400" y="275" fill="#64748b" font-family="monospace" font-size="10" text-anchor="middle">── attachment boundary ──</text>

  <!-- Attachment Plane Label -->
  <text x="20" y="310" fill="#94a3b8" font-family="monospace" font-size="14">ATTACHMENT PLANE</text>
  <text x="20" y="330" fill="#64748b" font-family="monospace" font-size="11">α(v₂) : WARP</text>

  <!-- Skeleton Nodes -->
  <!-- v1 -->
  <circle cx="150" cy="150" r="35" fill="#1e293b" stroke="#475569" stroke-width="2"/>
  <text x="150" y="155" fill="#e2e8f0" font-family="monospace" font-size="14" text-anchor="middle">v₁</text>
  <text x="150" y="200" fill="#64748b" font-family="monospace" font-size="10" text-anchor="middle">depth: 0</text>

  <!-- v2 (selected) -->
  <circle cx="400" cy="120" r="40" fill="#1e3a5f" stroke="#3b82f6" stroke-width="3" filter="url(#glow)"/>
  <text x="400" y="125" fill="#60a5fa" font-family="monospace" font-size="14" text-anchor="middle">v₂</text>
  <text x="400" y="175" fill="#3b82f6" font-family="monospace" font-size="10" text-anchor="middle">depth: 2 ▼</text>

  <!-- v3 -->
  <circle cx="650" cy="150" r="35" fill="#1e293b" stroke="#475569" stroke-width="2"/>
  <text x="650" y="155" fill="#e2e8f0" font-family="monospace" font-size="14" text-anchor="middle">v₃</text>
  <text x="650" y="200" fill="#64748b" font-family="monospace" font-size="10" text-anchor="middle">depth: 1</text>

  <!-- Edges -->
  <line x1="190" y1="140" x2="355" y2="125" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="270" y="120" fill="#64748b" font-family="monospace" font-size="10">e₁</text>

  <line x1="445" y1="125" x2="610" y2="145" stroke="#475569" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="530" y="120" fill="#64748b" font-family="monospace" font-size="10">e₂</text>

  <!-- Connection line from selected node to attachment -->
  <path d="M 400 165 L 400 280 L 400 350" stroke="#3b82f6" stroke-width="2" stroke-dasharray="6,3" fill="none"/>

  <!-- Attachment View (nested WARP inside v2) -->
  <rect x="100" y="350" width="600" height="220" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>

  <!-- Inner skeleton of α(v₂) -->
  <circle cx="200" cy="430" r="25" fill="#1e3a5f" stroke="#8b5cf6" stroke-width="2"/>
  <text x="200" y="435" fill="#c4b5fd" font-family="monospace" font-size="12" text-anchor="middle">u₁</text>

  <circle cx="350" cy="400" r="25" fill="#1e3a5f" stroke="#8b5cf6" stroke-width="2"/>
  <text x="350" y="405" fill="#c4b5fd" font-family="monospace" font-size="12" text-anchor="middle">u₂</text>

  <circle cx="350" cy="500" r="25" fill="#1e3a5f" stroke="#8b5cf6" stroke-width="2"/>
  <text x="350" y="505" fill="#c4b5fd" font-family="monospace" font-size="12" text-anchor="middle">u₃</text>

  <circle cx="500" cy="450" r="25" fill="#1e3a5f" stroke="#8b5cf6" stroke-width="2"/>
  <text x="500" y="455" fill="#c4b5fd" font-family="monospace" font-size="12" text-anchor="middle">u₄</text>

  <!-- Inner edges -->
  <line x1="225" y1="420" x2="320" y2="405" stroke="#8b5cf6" stroke-width="1.5"/>
  <line x1="225" y1="445" x2="320" y2="490" stroke="#8b5cf6" stroke-width="1.5"/>
  <line x1="375" y1="410" x2="475" y2="445" stroke="#8b5cf6" stroke-width="1.5"/>
  <line x1="375" y1="490" x2="475" y2="455" stroke="#8b5cf6" stroke-width="1.5"/>

  <!-- Depth indicator -->
  <text x="620" y="380" fill="#64748b" font-family="monospace" font-size="10">depth(α(v₂)) = 2</text>
  <text x="620" y="400" fill="#64748b" font-family="monospace" font-size="10">|V| = 4, |E| = 4</text>

  <!-- Breadcrumb -->
  <text x="120" y="375" fill="#94a3b8" font-family="monospace" font-size="11">root → v₂ → (viewing attachment)</text>

  <!-- Legend -->
  <rect x="620" y="480" width="15" height="15" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="645" y="492" fill="#64748b" font-family="monospace" font-size="10">selected</text>

  <rect x="620" y="505" width="15" height="15" fill="#1e3a5f" stroke="#8b5cf6" stroke-width="2"/>
  <text x="645" y="517" fill="#64748b" font-family="monospace" font-size="10">nested</text>

  <rect x="620" y="530" width="15" height="15" fill="#1e293b" stroke="#475569" stroke-width="2"/>
  <text x="645" y="542" fill="#64748b" font-family="monospace" font-size="10">unselected</text>
</svg>
