<svg viewBox="0 0 1000 400" xmlns="http://www.w3.org/2000/svg">
  <rect width="1000" height="400" fill="#0f172a"/>

  <!-- Left: Boundary (compact) -->
  <rect x="20" y="20" width="250" height="360" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
  <text x="145" y="50" fill="#60a5fa" font-family="monospace" font-size="14" text-anchor="middle">Boundary Data</text>
  <text x="145" y="70" fill="#64748b" font-family="monospace" font-size="10" text-anchor="middle">256 bytes</text>

  <!-- Compact representation -->
  <rect x="40" y="90" width="210" height="40" rx="4" fill="#0f172a" stroke="#3b82f6"/>
  <text x="145" y="115" fill="#94a3b8" font-family="monospace" font-size="10" text-anchor="middle">U₀ (hash: 0x7f3a...)</text>

  <rect x="40" y="140" width="210" height="100" rx="4" fill="#0f172a" stroke="#8b5cf6"/>
  <text x="145" y="160" fill="#a78bfa" font-family="monospace" font-size="10" text-anchor="middle">Payload P</text>
  <text x="55" y="180" fill="#64748b" font-family="monospace" font-size="9">μ₀: 32 bytes</text>
  <text x="55" y="195" fill="#64748b" font-family="monospace" font-size="9">μ₁: 28 bytes</text>
  <text x="55" y="210" fill="#64748b" font-family="monospace" font-size="9">μ₂: 45 bytes</text>
  <text x="55" y="225" fill="#64748b" font-family="monospace" font-size="9">μ₃: 31 bytes</text>

  <!-- Compression ratio -->
  <rect x="40" y="260" width="210" height="100" rx="4" fill="#14532d" stroke="#22c55e"/>
  <text x="145" y="290" fill="#22c55e" font-family="monospace" font-size="12" text-anchor="middle">Compression</text>
  <text x="145" y="315" fill="#86efac" font-family="monospace" font-size="20" text-anchor="middle">47:1</text>
  <text x="145" y="340" fill="#64748b" font-family="monospace" font-size="9" text-anchor="middle">boundary / interior</text>

  <!-- Arrow -->
  <text x="290" y="200" fill="#60a5fa" font-family="monospace" font-size="30">⟶</text>
  <text x="290" y="230" fill="#64748b" font-family="monospace" font-size="10">Replay</text>

  <!-- Right: Interior (expanded) -->
  <rect x="330" y="20" width="650" height="360" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
  <text x="655" y="50" fill="#22c55e" font-family="monospace" font-size="14" text-anchor="middle">Interior Volume</text>
  <text x="655" y="70" fill="#64748b" font-family="monospace" font-size="10" text-anchor="middle">12,032 bytes reconstructed</text>

  <!-- State boxes representing the full interior -->
  <g transform="translate(350, 90)">
    <!-- State nodes (small) -->
    <rect x="0" y="0" width="100" height="50" rx="4" fill="#0f172a" stroke="#3b82f6"/>
    <text x="50" y="20" fill="#60a5fa" font-family="monospace" font-size="9" text-anchor="middle">U₀</text>
    <text x="50" y="38" fill="#64748b" font-family="monospace" font-size="8" text-anchor="middle">5 nodes, 3 edges</text>

    <rect x="120" y="0" width="100" height="50" rx="4" fill="#0f172a" stroke="#22c55e"/>
    <text x="170" y="20" fill="#22c55e" font-family="monospace" font-size="9" text-anchor="middle">U₁</text>
    <text x="170" y="38" fill="#64748b" font-family="monospace" font-size="8" text-anchor="middle">6 nodes, 3 edges</text>

    <rect x="240" y="0" width="100" height="50" rx="4" fill="#0f172a" stroke="#22c55e"/>
    <text x="290" y="20" fill="#22c55e" font-family="monospace" font-size="9" text-anchor="middle">U₂</text>
    <text x="290" y="38" fill="#64748b" font-family="monospace" font-size="8" text-anchor="middle">6 nodes, 4 edges</text>

    <rect x="360" y="0" width="100" height="50" rx="4" fill="#0f172a" stroke="#22c55e"/>
    <text x="410" y="20" fill="#22c55e" font-family="monospace" font-size="9" text-anchor="middle">U₃</text>
    <text x="410" y="38" fill="#64748b" font-family="monospace" font-size="8" text-anchor="middle">6 nodes, 4 edges</text>

    <rect x="480" y="0" width="100" height="50" rx="4" fill="#0f172a" stroke="#22c55e"/>
    <text x="530" y="20" fill="#22c55e" font-family="monospace" font-size="9" text-anchor="middle">U₄</text>
    <text x="530" y="38" fill="#64748b" font-family="monospace" font-size="8" text-anchor="middle">7 nodes, 5 edges</text>
  </g>

  <!-- Arrows between states -->
  <g transform="translate(350, 90)">
    <line x1="103" y1="25" x2="117" y2="25" stroke="#8b5cf6" stroke-width="2"/>
    <line x1="223" y1="25" x2="237" y2="25" stroke="#8b5cf6" stroke-width="2"/>
    <line x1="343" y1="25" x2="357" y2="25" stroke="#8b5cf6" stroke-width="2"/>
    <line x1="463" y1="25" x2="477" y2="25" stroke="#8b5cf6" stroke-width="2"/>
  </g>

  <!-- Full state content preview -->
  <rect x="350" y="160" width="610" height="200" rx="4" fill="#0f172a" stroke="#334155"/>
  <text x="370" y="185" fill="#94a3b8" font-family="monospace" font-size="10">State U₄ (final):</text>

  <text x="380" y="210" fill="#64748b" font-family="monospace" font-size="9">nodes: {v₁, v₂, v₃, v₄, v₅, v₆, v₇}</text>
  <text x="380" y="225" fill="#64748b" font-family="monospace" font-size="9">edges: {e₁: v₁→v₂, e₂: v₂→v₃, e₃: v₃→v₄, e₄: v₄→v₅, e₅: v₅→v₆}</text>
  <text x="380" y="245" fill="#64748b" font-family="monospace" font-size="9">props:</text>
  <text x="400" y="260" fill="#64748b" font-family="monospace" font-size="9">v₁.name = "root"</text>
  <text x="400" y="275" fill="#64748b" font-family="monospace" font-size="9">v₂.type = "function"</text>
  <text x="400" y="290" fill="#64748b" font-family="monospace" font-size="9">v₃.status = "active"</text>
  <text x="400" y="305" fill="#64748b" font-family="monospace" font-size="9">v₄.count = 42</text>
  <text x="400" y="320" fill="#64748b" font-family="monospace" font-size="9">...</text>
  <text x="400" y="340" fill="#64748b" font-family="monospace" font-size="9">(+ 12 more properties)</text>
</svg>
