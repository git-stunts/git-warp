<svg viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="wormhole-grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="50%" style="stop-color:#06b6d4"/>
      <stop offset="100%" style="stop-color:#8b5cf6"/>
    </linearGradient>
    <marker id="wh-arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6"/>
    </marker>
    <filter id="wh-glow">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1000" height="600" fill="#0f172a"/>

  <!-- Title -->
  <text x="500" y="35" fill="#e2e8f0" font-family="monospace" font-size="18" text-anchor="middle">Wormhole Compression</text>
  <text x="500" y="55" fill="#64748b" font-family="monospace" font-size="12" text-anchor="middle">Compress multi-tick segments into single edges with provenance preservation</text>

  <!-- Expanded View (top) -->
  <rect x="30" y="80" width="940" height="180" rx="8" fill="#1e293b" stroke="#334155"/>
  <text x="50" y="105" fill="#94a3b8" font-family="monospace" font-size="12">EXPANDED WORLDLINE</text>

  <!-- States -->
  <circle cx="100" cy="170" r="28" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="100" y="175" fill="#60a5fa" font-family="monospace" font-size="11" text-anchor="middle">U₀</text>

  <circle cx="220" cy="170" r="28" fill="#1e3a5f" stroke="#22c55e" stroke-width="2"/>
  <text x="220" y="175" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">U₁</text>

  <circle cx="340" cy="170" r="28" fill="#1e3a5f" stroke="#22c55e" stroke-width="2"/>
  <text x="340" y="175" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">U₂</text>

  <circle cx="460" cy="170" r="28" fill="#1e3a5f" stroke="#22c55e" stroke-width="2"/>
  <text x="460" y="175" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">U₃</text>

  <circle cx="580" cy="170" r="28" fill="#1e3a5f" stroke="#22c55e" stroke-width="2"/>
  <text x="580" y="175" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">U₄</text>

  <circle cx="700" cy="170" r="28" fill="#1e3a5f" stroke="#22c55e" stroke-width="2"/>
  <text x="700" y="175" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">U₅</text>

  <circle cx="820" cy="170" r="28" fill="#1e3a5f" stroke="#22c55e" stroke-width="2"/>
  <text x="820" y="175" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">U₆</text>

  <circle cx="920" cy="170" r="28" fill="#1e3a5f" stroke="#f59e0b" stroke-width="2"/>
  <text x="920" y="175" fill="#f59e0b" font-family="monospace" font-size="11" text-anchor="middle">U₇</text>

  <!-- Tick arrows -->
  <line x1="130" y1="170" x2="188" y2="170" stroke="#8b5cf6" stroke-width="2"/>
  <text x="159" y="160" fill="#a78bfa" font-family="monospace" font-size="8" text-anchor="middle">μ₀</text>

  <line x1="250" y1="170" x2="308" y2="170" stroke="#8b5cf6" stroke-width="2"/>
  <text x="279" y="160" fill="#a78bfa" font-family="monospace" font-size="8" text-anchor="middle">μ₁</text>

  <line x1="370" y1="170" x2="428" y2="170" stroke="#8b5cf6" stroke-width="2"/>
  <text x="399" y="160" fill="#a78bfa" font-family="monospace" font-size="8" text-anchor="middle">μ₂</text>

  <line x1="490" y1="170" x2="548" y2="170" stroke="#8b5cf6" stroke-width="2"/>
  <text x="519" y="160" fill="#a78bfa" font-family="monospace" font-size="8" text-anchor="middle">μ₃</text>

  <line x1="610" y1="170" x2="668" y2="170" stroke="#8b5cf6" stroke-width="2"/>
  <text x="639" y="160" fill="#a78bfa" font-family="monospace" font-size="8" text-anchor="middle">μ₄</text>

  <line x1="730" y1="170" x2="788" y2="170" stroke="#8b5cf6" stroke-width="2"/>
  <text x="759" y="160" fill="#a78bfa" font-family="monospace" font-size="8" text-anchor="middle">μ₅</text>

  <line x1="850" y1="170" x2="888" y2="170" stroke="#8b5cf6" stroke-width="2"/>
  <text x="869" y="160" fill="#a78bfa" font-family="monospace" font-size="8" text-anchor="middle">μ₆</text>

  <!-- Compression indicator -->
  <path d="M 500 270 L 500 310" stroke="#8b5cf6" stroke-width="3" fill="none"/>
  <polygon points="490,310 500,330 510,310" fill="#8b5cf6"/>
  <text x="530" y="300" fill="#a78bfa" font-family="monospace" font-size="11">COMPRESS</text>

  <!-- Compressed View (bottom) -->
  <rect x="30" y="350" width="940" height="180" rx="8" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
  <text x="50" y="375" fill="#8b5cf6" font-family="monospace" font-size="12">COMPRESSED WORLDLINE (with wormholes)</text>

  <!-- Entry state -->
  <circle cx="100" cy="440" r="28" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2"/>
  <text x="100" y="445" fill="#60a5fa" font-family="monospace" font-size="11" text-anchor="middle">U₀</text>

  <!-- First wormhole -->
  <ellipse cx="340" cy="440" rx="140" ry="35" fill="none" stroke="url(#wormhole-grad)" stroke-width="3" filter="url(#wh-glow)"/>
  <text x="340" y="445" fill="#06b6d4" font-family="monospace" font-size="12" text-anchor="middle">W₁: (U₀ → U₃)</text>
  <text x="340" y="460" fill="#64748b" font-family="monospace" font-size="8" text-anchor="middle">P₀:₃ = (μ₀, μ₁, μ₂)</text>

  <!-- Intermediate state -->
  <circle cx="580" cy="440" r="28" fill="#1e3a5f" stroke="#22c55e" stroke-width="2"/>
  <text x="580" y="445" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">U₃</text>

  <!-- Second wormhole -->
  <ellipse cx="750" cy="440" rx="100" ry="35" fill="none" stroke="url(#wormhole-grad)" stroke-width="3" filter="url(#wh-glow)"/>
  <text x="750" y="445" fill="#06b6d4" font-family="monospace" font-size="12" text-anchor="middle">W₂: (U₃ → U₆)</text>
  <text x="750" y="460" fill="#64748b" font-family="monospace" font-size="8" text-anchor="middle">P₃:₃ = (μ₃, μ₄, μ₅)</text>

  <!-- Final state -->
  <circle cx="920" cy="440" r="28" fill="#1e3a5f" stroke="#f59e0b" stroke-width="2"/>
  <text x="920" y="445" fill="#f59e0b" font-family="monospace" font-size="11" text-anchor="middle">U₇</text>

  <!-- Single tick after wormhole -->
  <line x1="850" y1="440" x2="888" y2="440" stroke="#8b5cf6" stroke-width="2"/>
  <text x="869" y="430" fill="#a78bfa" font-family="monospace" font-size="8" text-anchor="middle">μ₆</text>

  <!-- Connection from U₀ to wormhole -->
  <line x1="130" y1="440" x2="195" y2="440" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="4,2"/>

  <!-- Connection from wormhole to U₃ -->
  <line x1="485" y1="440" x2="550" y2="440" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="4,2"/>

  <!-- Connection from U₃ to wormhole -->
  <line x1="610" y1="440" x2="645" y2="440" stroke="#8b5cf6" stroke-width="2" stroke-dasharray="4,2"/>

  <!-- BTR Panel -->
  <rect x="30" y="550" width="450" height="40" rx="6" fill="#1e293b" stroke="#334155"/>
  <text x="50" y="575" fill="#64748b" font-family="monospace" font-size="10">W₁ BTR: h_in=0x3a7f... → h_out=0x8c2d... | auth: ✓ verified | size: 248 bytes</text>

  <rect x="500" y="550" width="470" height="40" rx="6" fill="#1e293b" stroke="#334155"/>
  <text x="520" y="575" fill="#64748b" font-family="monospace" font-size="10">W₂ BTR: h_in=0x8c2d... → h_out=0xf1a9... | auth: ✓ verified | size: 312 bytes</text>
</svg>
