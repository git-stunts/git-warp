<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="700" fill="#0f172a"/>

  <!-- Title -->
  <text x="450" y="35" fill="#e2e8f0" font-family="monospace" font-size="18" text-anchor="middle">Tick Receipt: τ₃₄₇</text>
  <text x="450" y="55" fill="#64748b" font-family="monospace" font-size="12" text-anchor="middle">Scheduler: left-most-wins | Candidates: 8 | Accepted: 4 | Rejected: 4</text>

  <!-- Timeline header -->
  <text x="50" y="95" fill="#94a3b8" font-family="monospace" font-size="12">CANDIDATE ORDER (by deterministic key)</text>

  <!-- Candidate boxes arranged by order -->
  <!-- m₁ - Accepted -->
  <rect x="50" y="110" width="90" height="70" rx="6" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="95" y="135" fill="#22c55e" font-family="monospace" font-size="12" text-anchor="middle">m₁</text>
  <text x="95" y="152" fill="#86efac" font-family="monospace" font-size="9" text-anchor="middle">rule: AddNode</text>
  <text x="95" y="168" fill="#4ade80" font-family="monospace" font-size="10" text-anchor="middle">✓ ACCEPTED</text>

  <!-- m₂ - Accepted -->
  <rect x="150" y="110" width="90" height="70" rx="6" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="195" y="135" fill="#22c55e" font-family="monospace" font-size="12" text-anchor="middle">m₂</text>
  <text x="195" y="152" fill="#86efac" font-family="monospace" font-size="9" text-anchor="middle">rule: AddEdge</text>
  <text x="195" y="168" fill="#4ade80" font-family="monospace" font-size="10" text-anchor="middle">✓ ACCEPTED</text>

  <!-- m₃ - Rejected (blocked by m₁) -->
  <rect x="250" y="110" width="90" height="70" rx="6" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="295" y="135" fill="#ef4444" font-family="monospace" font-size="12" text-anchor="middle">m₃</text>
  <text x="295" y="152" fill="#fca5a5" font-family="monospace" font-size="9" text-anchor="middle">rule: SetProp</text>
  <text x="295" y="168" fill="#f87171" font-family="monospace" font-size="10" text-anchor="middle">✗ BLOCKED</text>

  <!-- m₄ - Accepted -->
  <rect x="350" y="110" width="90" height="70" rx="6" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="395" y="135" fill="#22c55e" font-family="monospace" font-size="12" text-anchor="middle">m₄</text>
  <text x="395" y="152" fill="#86efac" font-family="monospace" font-size="9" text-anchor="middle">rule: AddNode</text>
  <text x="395" y="168" fill="#4ade80" font-family="monospace" font-size="10" text-anchor="middle">✓ ACCEPTED</text>

  <!-- m₅ - Rejected (blocked by m₂) -->
  <rect x="450" y="110" width="90" height="70" rx="6" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="495" y="135" fill="#ef4444" font-family="monospace" font-size="12" text-anchor="middle">m₅</text>
  <text x="495" y="152" fill="#fca5a5" font-family="monospace" font-size="9" text-anchor="middle">rule: DelEdge</text>
  <text x="495" y="168" fill="#f87171" font-family="monospace" font-size="10" text-anchor="middle">✗ BLOCKED</text>

  <!-- m₆ - Rejected (blocked by m₄) -->
  <rect x="550" y="110" width="90" height="70" rx="6" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="595" y="135" fill="#ef4444" font-family="monospace" font-size="12" text-anchor="middle">m₆</text>
  <text x="595" y="152" fill="#fca5a5" font-family="monospace" font-size="9" text-anchor="middle">rule: SetProp</text>
  <text x="595" y="168" fill="#f87171" font-family="monospace" font-size="10" text-anchor="middle">✗ BLOCKED</text>

  <!-- m₇ - Accepted -->
  <rect x="650" y="110" width="90" height="70" rx="6" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="695" y="135" fill="#22c55e" font-family="monospace" font-size="12" text-anchor="middle">m₇</text>
  <text x="695" y="152" fill="#86efac" font-family="monospace" font-size="9" text-anchor="middle">rule: AddEdge</text>
  <text x="695" y="168" fill="#4ade80" font-family="monospace" font-size="10" text-anchor="middle">✓ ACCEPTED</text>

  <!-- m₈ - Rejected (blocked by m₇) -->
  <rect x="750" y="110" width="90" height="70" rx="6" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="795" y="135" fill="#ef4444" font-family="monospace" font-size="12" text-anchor="middle">m₈</text>
  <text x="795" y="152" fill="#fca5a5" font-family="monospace" font-size="9" text-anchor="middle">rule: SetProp</text>
  <text x="795" y="168" fill="#f87171" font-family="monospace" font-size="10" text-anchor="middle">✗ BLOCKED</text>

  <!-- Blocking arrows (curved) -->
  <path d="M 95 185 Q 95 220 250 220 L 295 195" stroke="#ef4444" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <text x="175" y="235" fill="#ef4444" font-family="monospace" font-size="9">Del(m₁) ∩ Use(m₃) ≠ ∅</text>

  <path d="M 195 185 Q 195 250 430 250 L 495 195" stroke="#ef4444" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <text x="340" y="265" fill="#ef4444" font-family="monospace" font-size="9">Del(m₂) ∩ Use(m₅) ≠ ∅</text>

  <path d="M 395 185 Q 395 280 530 280 L 595 195" stroke="#ef4444" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <text x="495" y="295" fill="#ef4444" font-family="monospace" font-size="9">Use(m₄) ∩ Del(m₆) ≠ ∅</text>

  <path d="M 695 185 Q 695 220 750 220 L 795 195" stroke="#ef4444" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <text x="750" y="235" fill="#ef4444" font-family="monospace" font-size="9">blocks</text>

  <!-- Tick Event Poset section -->
  <text x="50" y="340" fill="#94a3b8" font-family="monospace" font-size="12">TICK-EVENT POSET (E, ≼)</text>

  <!-- Poset diagram -->
  <rect x="50" y="355" width="400" height="200" rx="8" fill="#1e293b" stroke="#334155"/>

  <!-- Accepted events (top row, unordered among themselves) -->
  <circle cx="100" cy="400" r="22" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="100" y="405" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">m₁</text>

  <circle cx="180" cy="400" r="22" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="180" y="405" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">m₂</text>

  <circle cx="260" cy="400" r="22" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="260" y="405" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">m₄</text>

  <circle cx="340" cy="400" r="22" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="340" y="405" fill="#22c55e" font-family="monospace" font-size="11" text-anchor="middle">m₇</text>

  <!-- Rejected events (below their blockers) -->
  <circle cx="100" cy="490" r="22" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="100" y="495" fill="#ef4444" font-family="monospace" font-size="11" text-anchor="middle">m₃</text>

  <circle cx="180" cy="490" r="22" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="180" y="495" fill="#ef4444" font-family="monospace" font-size="11" text-anchor="middle">m₅</text>

  <circle cx="260" cy="490" r="22" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="260" y="495" fill="#ef4444" font-family="monospace" font-size="11" text-anchor="middle">m₆</text>

  <circle cx="340" cy="490" r="22" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="340" y="495" fill="#ef4444" font-family="monospace" font-size="11" text-anchor="middle">m₈</text>

  <!-- Ordering arrows (accepted → rejected) -->
  <line x1="100" y1="425" x2="100" y2="465" stroke="#ef4444" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="180" y1="425" x2="180" y2="465" stroke="#ef4444" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="260" y1="425" x2="260" y2="465" stroke="#ef4444" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="340" y1="425" x2="340" y2="465" stroke="#ef4444" stroke-width="2" marker-end="url(#arrow)"/>

  <text x="400" y="530" fill="#64748b" font-family="monospace" font-size="9">E_acc (unordered)</text>
  <text x="400" y="545" fill="#64748b" font-family="monospace" font-size="9">↓ blocks</text>

  <!-- Footprint detail panel -->
  <rect x="480" y="355" width="380" height="200" rx="8" fill="#1e293b" stroke="#334155"/>
  <text x="500" y="380" fill="#94a3b8" font-family="monospace" font-size="11">FOOTPRINT DETAIL: m₁ vs m₃</text>

  <text x="500" y="410" fill="#22c55e" font-family="monospace" font-size="10">m₁ (AddNode on v₇):</text>
  <text x="520" y="430" fill="#86efac" font-family="monospace" font-size="9">Del(m₁) = {}</text>
  <text x="520" y="448" fill="#86efac" font-family="monospace" font-size="9">Use(m₁) = {v₇}</text>

  <text x="500" y="478" fill="#ef4444" font-family="monospace" font-size="10">m₃ (SetProp on v₇.name):</text>
  <text x="520" y="498" fill="#fca5a5" font-family="monospace" font-size="9">Del(m₃) = {}</text>
  <text x="520" y="516" fill="#fca5a5" font-family="monospace" font-size="9">Use(m₃) = {v₇}</text>

  <text x="500" y="545" fill="#f59e0b" font-family="monospace" font-size="10">⚠ Use(m₁) ∩ Use(m₃) = {v₇} ≠ ∅</text>

  <!-- Timeline controls -->
  <rect x="50" y="580" width="800" height="50" rx="8" fill="#1e293b" stroke="#334155"/>

  <!-- Play controls -->
  <rect x="70" y="595" width="30" height="24" rx="4" fill="#334155"/>
  <text x="85" y="612" fill="#e2e8f0" font-family="monospace" font-size="14" text-anchor="middle">⏮</text>

  <rect x="110" y="595" width="30" height="24" rx="4" fill="#3b82f6"/>
  <text x="125" y="612" fill="#fff" font-family="monospace" font-size="14" text-anchor="middle">▶</text>

  <rect x="150" y="595" width="30" height="24" rx="4" fill="#334155"/>
  <text x="165" y="612" fill="#e2e8f0" font-family="monospace" font-size="14" text-anchor="middle">⏭</text>

  <!-- Progress bar -->
  <rect x="200" y="602" width="500" height="10" rx="5" fill="#334155"/>
  <rect x="200" y="602" width="312" height="10" rx="5" fill="#3b82f6"/>
  <circle cx="512" cy="607" r="8" fill="#e2e8f0"/>

  <!-- Step indicator -->
  <text x="720" y="612" fill="#94a3b8" font-family="monospace" font-size="11">Step 5/8: m₅ rejected</text>

  <!-- Speed control -->
  <text x="820" y="612" fill="#64748b" font-family="monospace" font-size="10">1x ▼</text>

  <!-- Legend -->
  <rect x="50" y="650" width="800" height="40" rx="6" fill="#0f172a" stroke="#334155"/>
  <circle cx="80" cy="670" r="8" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="95" y="675" fill="#64748b" font-family="monospace" font-size="10">Accepted (∈ B)</text>

  <circle cx="220" cy="670" r="8" fill="#450a0a" stroke="#ef4444" stroke-width="2"/>
  <text x="235" y="675" fill="#64748b" font-family="monospace" font-size="10">Rejected (∈ E_rej)</text>

  <line x1="370" y1="670" x2="410" y2="670" stroke="#ef4444" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="420" y="675" fill="#64748b" font-family="monospace" font-size="10">Blocks (m_j ≺ m_i)</text>

  <text x="580" y="675" fill="#64748b" font-family="monospace" font-size="10">Independence: Del(m₁)∩Use(m₂) = ∅ ∧ Del(m₂)∩Use(m₁) = ∅</text>
</svg>
