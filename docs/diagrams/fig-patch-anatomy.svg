<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.2 (20260124.0452)
 -->
<!-- Title: patch_anatomy Pages: 1 -->
<svg width="945pt" height="444pt"
 viewBox="0.00 0.00 945.00 444.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 439.77)">
<title>patch_anatomy</title>
<text xml:space="preserve" text-anchor="start" x="326" y="-8.05" font-family="Times,serif" font-style="italic" font-size="11.00">Fig. 4. &#160;Patch Commit Anatomy â€” a single WARP patch commit</text>
<!-- commit -->
<g id="node1" class="node">
<title>commit</title>
<path fill="#e8e8e8" stroke="black" stroke-width="0.8" d="M405.88,-292.02C405.88,-292.02 575.12,-292.02 575.12,-292.02 581.12,-292.02 587.12,-298.02 587.12,-304.02 587.12,-304.02 587.12,-423.27 587.12,-423.27 587.12,-429.27 581.12,-435.27 575.12,-435.27 575.12,-435.27 405.88,-435.27 405.88,-435.27 399.88,-435.27 393.88,-429.27 393.88,-423.27 393.88,-423.27 393.88,-304.02 393.88,-304.02 393.88,-298.02 399.88,-292.02 405.88,-292.02"/>
<text xml:space="preserve" text-anchor="start" x="459.75" y="-422.77" font-family="Times,serif" font-weight="bold" font-size="10.00">Patch Commit</text>
<text xml:space="preserve" text-anchor="start" x="456.75" y="-414.67" font-family="Courier,monospace" font-size="8.00">f1a2b3c4d5e6f7a</text>
<polyline fill="none" stroke="black" stroke-width="0.8" points="393.88,-409.27 587.12,-409.27"/>
<text xml:space="preserve" text-anchor="start" x="401.88" y="-396.77" font-family="Times,serif" font-size="10.00">tree: </text>
<text xml:space="preserve" text-anchor="start" x="422.12" y="-396.77" font-family="Courier,monospace" font-size="8.00">a9b8c7d...</text>
<polyline fill="none" stroke="black" stroke-width="0.8" points="475.12,-390.02 475.12,-409.27"/>
<text xml:space="preserve" text-anchor="start" x="483.12" y="-396.77" font-family="Times,serif" font-size="10.00">parent: </text>
<text xml:space="preserve" text-anchor="start" x="513.88" y="-396.77" font-family="Courier,monospace" font-size="8.00">d4e5f6a...</text>
<text xml:space="preserve" text-anchor="start" x="558.88" y="-396.77" font-family="Times,serif" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<polyline fill="none" stroke="black" stroke-width="0.8" points="393.88,-390.02 587.12,-390.02"/>
<text xml:space="preserve" text-anchor="start" x="405.88" y="-378.47" font-family="Times,serif" font-weight="bold" font-size="9.00">Trailers:</text>
<text xml:space="preserve" text-anchor="start" x="405.88" y="-369.47" font-family="Times,serif" font-size="9.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="432.88" y="-369.47" font-family="Courier,monospace" font-size="9.00">eg&#45;kind: patch</text>
<text xml:space="preserve" text-anchor="start" x="405.88" y="-360.47" font-family="Times,serif" font-size="9.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="432.88" y="-360.47" font-family="Courier,monospace" font-size="9.00">eg&#45;graph: myGraph</text>
<text xml:space="preserve" text-anchor="start" x="405.88" y="-351.47" font-family="Times,serif" font-size="9.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="432.88" y="-351.47" font-family="Courier,monospace" font-size="9.00">eg&#45;writer: alice</text>
<text xml:space="preserve" text-anchor="start" x="405.88" y="-342.47" font-family="Times,serif" font-size="9.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="432.88" y="-342.47" font-family="Courier,monospace" font-size="9.00">eg&#45;lamport: 42</text>
<text xml:space="preserve" text-anchor="start" x="405.88" y="-333.47" font-family="Times,serif" font-size="9.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="432.88" y="-333.47" font-family="Courier,monospace" font-size="9.00">eg&#45;schema: 2</text>
<text xml:space="preserve" text-anchor="start" x="405.88" y="-324.47" font-family="Times,serif" font-size="9.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="432.88" y="-324.47" font-family="Courier,monospace" font-size="9.00">eg&#45;patch&#45;oid: b3c4d5e...</text>
<text xml:space="preserve" text-anchor="start" x="405.88" y="-315.47" font-family="Times,serif" font-size="9.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="432.88" y="-315.47" font-family="Courier,monospace" font-size="9.00">eg&#45;state&#45;hash: e6f7a8b...</text>
<text xml:space="preserve" text-anchor="start" x="405.88" y="-306.47" font-family="Times,serif" font-size="9.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="432.88" y="-306.47" font-family="Courier,monospace" font-size="9.00">eg&#45;frontier&#45;oid: c7d8e9f...</text>
<text xml:space="preserve" text-anchor="start" x="479" y="-297.47" font-family="Times,serif" font-size="9.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
</g>
<!-- parent -->
<g id="node2" class="node">
<title>parent</title>
<path fill="#e8e8e8" stroke="black" stroke-width="0.8" d="M486.88,-237.77C486.88,-237.77 434.12,-237.77 434.12,-237.77 428.12,-237.77 422.12,-231.77 422.12,-225.77 422.12,-225.77 422.12,-213.77 422.12,-213.77 422.12,-207.77 428.12,-201.77 434.12,-201.77 434.12,-201.77 486.88,-201.77 486.88,-201.77 492.88,-201.77 498.88,-207.77 498.88,-213.77 498.88,-213.77 498.88,-225.77 498.88,-225.77 498.88,-231.77 492.88,-237.77 486.88,-237.77"/>
<text xml:space="preserve" text-anchor="start" x="430.12" y="-220.27" font-family="Times,serif" font-size="10.00">Parent Commit</text>
<text xml:space="preserve" text-anchor="start" x="438" y="-212.17" font-family="Courier,monospace" font-size="8.00">d4e5f6a...</text>
</g>
<!-- commit&#45;&gt;parent -->
<g id="edge1" class="edge">
<title>commit&#45;&gt;parent</title>
<path fill="none" stroke="black" stroke-width="0.8" d="M475.5,-291.71C472.3,-276.59 469.11,-261.47 466.49,-249.1"/>
<polygon fill="black" stroke="black" stroke-width="0.8" points="469.92,-248.41 464.43,-239.35 463.07,-249.86 469.92,-248.41"/>
<text xml:space="preserve" text-anchor="middle" x="480.33" y="-261.92" font-family="Times,serif" font-size="8.00">parent</text>
</g>
<!-- tree -->
<g id="node3" class="node">
<title>tree</title>
<polygon fill="#f0f0f0" stroke="black" stroke-width="0.8" points="596,-237.77 593,-241.77 572,-241.77 569,-237.77 535,-237.77 535,-201.77 596,-201.77 596,-237.77"/>
<text xml:space="preserve" text-anchor="start" x="558" y="-219.77" font-family="Times,serif" font-size="10.00">tree</text>
<text xml:space="preserve" text-anchor="start" x="543" y="-212.62" font-family="Courier,monospace" font-size="7.00">a9b8c7d...</text>
</g>
<!-- commit&#45;&gt;tree -->
<g id="edge2" class="edge">
<title>commit&#45;&gt;tree</title>
<path fill="none" stroke="black" stroke-width="0.8" d="M528,-291.71C536.24,-276.12 544.48,-260.53 551.13,-247.96"/>
<polygon fill="black" stroke="black" stroke-width="0.8" points="554.16,-249.71 555.74,-239.24 547.97,-246.44 554.16,-249.71"/>
<text xml:space="preserve" text-anchor="middle" x="549.71" y="-261.92" font-family="Times,serif" font-size="8.00">tree</text>
</g>
<!-- patch_cbor -->
<g id="node4" class="node">
<title>patch_cbor</title>
<ellipse fill="none" stroke="black" stroke-width="0.8" cx="468.5" cy="-129.63" rx="56.39" ry="18.38"/>
<text xml:space="preserve" text-anchor="start" x="447.12" y="-130.13" font-family="Times,serif" font-size="10.00">patch.cbor</text>
<text xml:space="preserve" text-anchor="start" x="436.62" y="-122.03" font-family="Times,serif" font-size="8.00">CBOR&#45;encoded ops</text>
</g>
<!-- tree&#45;&gt;patch_cbor -->
<g id="edge3" class="edge">
<title>tree&#45;&gt;patch_cbor</title>
<path fill="none" stroke="black" stroke-width="0.5" d="M546.8,-201.78C531.94,-188.28 511,-169.25 494.51,-154.26"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="497.13,-151.92 487.38,-147.79 492.42,-157.1 497.13,-151.92"/>
<text xml:space="preserve" text-anchor="start" x="519.91" y="-172.17" font-family="Times,serif" font-size="8.00">entry</text>
</g>
<!-- content_1 -->
<g id="node5" class="node">
<title>content_1</title>
<ellipse fill="none" stroke="black" stroke-width="0.8" cx="616.5" cy="-129.63" rx="55.33" ry="18.38"/>
<text xml:space="preserve" text-anchor="start" x="585.38" y="-130.13" font-family="Times,serif" font-size="10.00">_content_abc...</text>
<text xml:space="preserve" text-anchor="start" x="600" y="-122.03" font-family="Times,serif" font-size="8.00">blob value</text>
</g>
<!-- tree&#45;&gt;content_1 -->
<g id="edge4" class="edge">
<title>tree&#45;&gt;content_1</title>
<path fill="none" stroke="black" stroke-width="0.5" d="M575.33,-201.78C582.69,-189.06 592.9,-171.42 601.31,-156.89"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="604.16,-158.94 606.14,-148.53 598.11,-155.43 604.16,-158.94"/>
<text xml:space="preserve" text-anchor="start" x="592.53" y="-172.17" font-family="Times,serif" font-size="8.00">entry</text>
</g>
<!-- ops -->
<g id="node6" class="node">
<title>ops</title>
<polygon fill="#f0f0f0" stroke="black" stroke-width="0.8" stroke-dasharray="5,2" points="937,-57.5 0,-57.5 0,-21.5 937,-21.5 937,-57.5"/>
<text xml:space="preserve" text-anchor="start" x="8" y="-36.62" font-family="Times,serif" font-size="10.00">{</text>
<text xml:space="preserve" text-anchor="start" x="12.5" y="-36.62" font-family="Times,serif" font-weight="bold" font-size="10.00">Patch Operations</text>
<text xml:space="preserve" text-anchor="start" x="86" y="-36.62" font-family="Times,serif" font-size="10.00"> (schema:2)|{ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="159.5" y="-36.62" font-family="Courier,monospace" font-size="8.00">NodeAdd(id, dot)</text>
<text xml:space="preserve" text-anchor="start" x="231.5" y="-36.62" font-family="Times,serif" font-size="10.00"> | &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="256.25" y="-36.62" font-family="Courier,monospace" font-size="8.00">NodeTombstone(id, dots)</text>
<text xml:space="preserve" text-anchor="start" x="359.75" y="-36.62" font-family="Times,serif" font-size="10.00"> | &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="384.5" y="-36.62" font-family="Courier,monospace" font-size="8.00">EdgeAdd(from, to, label, dot)</text>
<text xml:space="preserve" text-anchor="start" x="515" y="-36.62" font-family="Times,serif" font-size="10.00"> | &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="539.75" y="-36.62" font-family="Courier,monospace" font-size="8.00">EdgeTombstone(key, dots)</text>
<text xml:space="preserve" text-anchor="start" x="647.75" y="-36.62" font-family="Times,serif" font-size="10.00"> | &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="672.5" y="-36.62" font-family="Courier,monospace" font-size="8.00">PropSet(key, val, eventId)</text>
<text xml:space="preserve" text-anchor="start" x="789.5" y="-36.62" font-family="Times,serif" font-size="10.00"> | &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text xml:space="preserve" text-anchor="start" x="814.25" y="-36.62" font-family="Courier,monospace" font-size="8.00">BlobValue(oid, data)</text>
<text xml:space="preserve" text-anchor="start" x="904.25" y="-36.62" font-family="Times,serif" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;}}</text>
</g>
<!-- patch_cbor&#45;&gt;ops -->
<g id="edge5" class="edge">
<title>patch_cbor&#45;&gt;ops</title>
<path fill="none" stroke="black" stroke-width="0.5" stroke-dasharray="5,2" d="M468.5,-111.22C468.5,-99.03 468.5,-82.48 468.5,-68.45"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="472,-68.63 468.5,-58.63 465,-68.63 472,-68.63"/>
<text xml:space="preserve" text-anchor="middle" x="485.38" y="-81.65" font-family="Times,serif" font-size="8.00">decodes to</text>
</g>
</g>
</svg>
